# https://www.acmicpc.net/problem/11066
# 파일 합치기

import sys
input = sys.stdin.readline

def dp(start,end):
        print(d)
		# 메모이제이션이 된 구간: 이미 계산한 값이면 그 값을 반환
        if d[start][end] != -1:
            return d[start][end]
        
        # 하나의 파일이면 0
        if start == end:
            return 0

        ans = float('inf') #무한
        
        # start 부터 end 까지 합
        s = sum(f[start:end+1])

        for i in range(start, end):
        	# 양분할 한 것 각각 + 둘을 합친 것


            temp = dp(start,i) + dp(i+1,end) + s
            # 위 값이 최소값이면 갱신
            if ans > temp:
                ans = temp
            
            d[start][end] = ans
        
        return ans

for i in range(int(input())):
    n = int(input())
    f = list(map(int,input().split()))
    # [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
    # -1은 아직 계산하지 않았음
    d = [[-1]*(n+1) for i in range(n+1)]
    
    # print(dp(0,n-1))

    # temp = dp(start,i) + dp(i+1,end) + s  에서 s를 더하는 이유
    # 10, 20, 30 40 일때
    # 분할정복으로 10, 20과 30, 40으로 나눠질때
    # dp(start,i)=30  +  dp(i+1,end)=70  +  s = 100

# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, 190, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, 190, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, -1, 190, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, -1, -1], [-1, -1, 60, 190, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, 320, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, 320, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, -1, -1, 320, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, -1, 320, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, -1, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, -1, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, -1, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, 160, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, 160, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]
# [[-1, 70, 160, 300, -1], [-1, -1, 60, 170, -1], [-1, -1, -1, 80, -1], [-1, -1, -1, -1, -1], [-1, -1, -1, -1, -1]]